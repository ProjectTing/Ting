# Ting 앱 통합 테스트 시나리오

## 1. 인증 및 회원 관리 플로우

### 1.1 회원가입 플로우
- [ ] Apple 로그인 → 약관 동의 → 회원정보 입력 → 메인화면 이동
- [ ] 필수 약관 동의 검증
- [ ] 회원정보 입력 시 닉네임 중복 체크
- [ ] UserDefaults에 userId 저장 검증
- [ ] Firebase Auth와 Firestore 데이터 동기화 확인

### 1.2 비회원 플로우
- [ ] 비회원으로 시작 → 메인화면 접근
- [ ] 게시글 조회만 가능한지 확인
- [ ] 제한된 기능 접근 시 로그인 유도 알림
- [ ] 로그인 화면 전환 처리

### 1.3 회원 탈퇴 플로우
- [ ] 탈퇴 버튼 → 약관 확인 → Apple 재인증 → 데이터 삭제 → 로그인 화면
- [ ] Firebase Auth, Firestore, UserDefaults 데이터 삭제 검증
- [ ] 연관된 posts, reports, infos 컬렉션 데이터 삭제
- [ ] 실패 시 롤백 처리 검증

## 2. 게시글 관리 플로우

### 2.1 게시글 작성 플로우
- [ ] 작성 화면 진입 → 데이터 입력 → 업로드 → 목록 갱신
- [ ] 필수 입력값 검증
- [ ] 태그 선택 상태 관리
- [ ] 게시글과 작성자 정보 연동
- [ ] 검색 키워드 자동 생성

### 2.2 게시글 수정 플로우
- [ ] 상세화면 → 수정 버튼 → 수정 화면 → 저장 → 상세화면 갱신
- [ ] 작성자 본인만 수정 가능
- [ ] 기존 데이터 로드 및 표시
- [ ] 수정된 내용 실시간 반영
- [ ] 연관된 검색 키워드 업데이트

### 2.3 게시글 삭제 플로우
- [ ] 상세화면 → 삭제 확인 → 삭제 처리 → 목록 화면
- [ ] 작성자 본인만 삭제 가능
- [ ] 관련 신고 내역 처리
- [ ] 목록 화면 자동 갱신

## 3. 목록 및 검색 플로우

### 3.1 메인 화면 플로우
- [ ] 최근 글 3개씩 표시
- [ ] 게시글 타입별 분류
- [ ] 스크롤 시 자동 갱신
- [ ] 카테고리 필터링

### 3.2 목록 화면 플로우
- [ ] 무한 스크롤 동작
- [ ] 새로고침 기능
- [ ] 게시글 선택 및 상세화면 전환
- [ ] 작성 버튼 노출 및 동작

### 3.3 검색 플로우
- [ ] 검색어 입력 → 결과 표시 → 필터 적용
- [ ] 태그 기반 필터링
- [ ] 검색 결과 정렬
- [ ] 결과 없음 처리

## 4. 회원정보 관리 플로우

### 4.1 회원정보 수정 플로우
- [ ] 프로필 화면 → 수정 화면 → 저장 → 프로필 갱신
- [ ] 닉네임 변경 시 연관 데이터 업데이트
  - posts 컬렉션 닉네임
  - reports 컬렉션 신고자/피신고자 닉네임
  - infos 컬렉션 닉네임
- [ ] 일괄 업데이트 트랜잭션 처리
- [ ] 실패 시 롤백 검증

### 4.2 로그아웃 플로우
- [ ] 로그아웃 → UserDefaults 정리 → 로그인 화면
- [ ] 세션 정리
- [ ] 캐시 데이터 정리
- [ ] 화면 전환 처리

## 5. 신고 기능 플로우

### 5.1 신고 처리 플로우
- [ ] 게시글 상세 → 신고 버튼 → 신고 작성 → 완료
- [ ] 비회원 신고 시도 차단
- [ ] 본인 게시글 신고 불가
- [ ] 중복 신고 방지
- [ ] 신고 데이터 저장 및 연동

### 5.2 신고 이력 관리 플로우
- [ ] 신고 기록 저장
- [ ] 게시글 삭제 시 신고 내역 처리
- [ ] 회원 탈퇴 시 신고 내역 처리
- [ ] 신고 상태 관리

## 6. 예외 상황 플로우

### 6.1 네트워크 오류
- [ ] 오프라인 상태 처리
- [ ] 데이터 로드 실패 시 재시도
- [ ] 업로드 실패 시 임시 저장
- [ ] 에러 메시지 표시

### 6.2 동시성 처리
- [ ] 동시 수정 요청 처리
- [ ] 데이터 일관성 유지
- [ ] 트랜잭션 롤백
- [ ] 충돌 해결

### 6.3 권한 검증
- [ ] 로그인 상태 확인
- [ ] 작성자 권한 검증
- [ ] 접근 제한 처리
- [ ] 권한 오류 메시지

## 통합 테스트 실행 가이드

### 테스트 환경 설정
1. 테스트용 Firebase 프로젝트 구성
2. 테스트 계정 및 데이터 준비
3. 네트워크 상태 시뮬레이션 도구 설정
4. 테스트 디바이스/시뮬레이터 준비

### 테스트 데이터 관리
1. 테스트 전 초기 데이터 설정
2. 테스트 후 데이터 정리
3. 테스트 데이터 백업/복원
4. 테스트 간 독립성 유지

### 테스트 순서
1. 기본 인증 및 회원 관리 플로우
2. 게시글 CRUD 플로우
3. 목록 및 검색 플로우
4. 회원정보 관리 플로우
5. 신고 기능 플로우
6. 예외 상황 처리